(this.webpackJsonpsurveysystemicconsensus=this.webpackJsonpsurveysystemicconsensus||[]).push([[0],{127:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(41),i=n.n(s),o=(n(127),n(70)),u=n(71),l=n(27),h=n(95),j=n(90),p=n(19),d=n(162),b=n(157),O=n(163),m=n(158),y=n(142),x=n(45),v={surveyTitle:"",options:[{option:""}]},f=function(e){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(d.a,{as:"h1",children:"Create your Survey"}),Object(a.jsx)(p.e,{initialValues:v,onSubmit:function(t){e.createSurvey(t)},children:function(e){var t=e.values;return Object(a.jsx)(b.a,{text:!0,children:Object(a.jsx)(p.d,{children:Object(a.jsx)(p.c,{name:"options",children:function(e){var n=e.remove,r=e.push;return Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(O.a.Row,{columns:3,children:[Object(a.jsx)(O.a.Column,{width:4,children:Object(a.jsx)("label",{htmlFor:"surveyTitle",children:"Survey Title"})}),Object(a.jsx)(O.a.Column,{width:10,children:Object(a.jsx)(p.b,{fluid:!0,required:!0,id:"surveyTitle",as:m.a,name:"surveyTitle",placeholder:"surveyTitle"})}),Object(a.jsx)(O.a.Column,{width:2})]}),t.options.length>0&&t.options.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(O.a.Row,{columns:3,children:[Object(a.jsx)(O.a.Column,{width:4,children:Object(a.jsxs)("label",{htmlFor:"options.".concat(t,".option"),children:["Option ",+(t+1)]},"label-".concat(t))},"column1-".concat(t)),Object(a.jsxs)(O.a.Column,{width:10,children:[Object(a.jsx)(p.b,{fluid:!0,required:!0,name:"options.".concat(t,".option"),as:m.a,placeholder:"Your Option",type:"text"},"input-".concat(t)),Object(a.jsx)(p.a,{name:"options.".concat(t,".option"),component:"div",className:"field-error"},"error-".concat(t))]},"column2-".concat(t)),Object(a.jsx)(O.a.Column,{width:2,children:Object(a.jsx)(y.a,{icon:!0,size:"large",type:"button",onClick:function(){return n(t)},children:Object(a.jsx)(x.a,{name:"trash alternate"},"icon-".concat(t))},"button-".concat(t))},"column3-".concat(t))]},"row-".concat(t))},"fragment-".concat(t))})),Object(a.jsxs)(O.a.Row,{children:[Object(a.jsx)(O.a.Column,{width:4}),Object(a.jsx)(O.a.Column,{width:5,children:Object(a.jsxs)(y.a,{className:"float-right",icon:!0,labelPosition:"left",size:"large",type:"button",onClick:function(){return r({option:""})},children:[Object(a.jsx)(x.a,{name:"plus"}),"Add another Option"]})}),Object(a.jsx)(O.a.Column,{width:5,children:Object(a.jsx)(y.a,{size:"large",type:"submit",children:"Create your Survey"})}),Object(a.jsx)(O.a.Column,{width:1})]})]})}})})})}})]})},w={participantName:""},S=function(e){for(var t=[],n=0;n<e.surveyData.options.length;n++)t.push({option:""});return Object.assign(w,{options:t}),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(d.a,{as:"h1",children:"Join this Survey"}),Object(a.jsxs)(d.a,{as:"h2",children:['Survey: "',e.surveyTitle,'"']}),Object(a.jsx)(p.e,{initialValues:w,onSubmit:function(t){e.createParticipantData(t)},children:function(t){t.values;return Object(a.jsx)(b.a,{text:!0,children:Object(a.jsx)(p.d,{children:Object(a.jsx)(p.c,{name:"options",children:Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(O.a.Row,{columns:2,children:[Object(a.jsx)(O.a.Column,{width:4,children:Object(a.jsx)("label",{htmlFor:"name",children:"Name"})}),Object(a.jsx)(O.a.Column,{width:12,children:Object(a.jsx)(p.b,{fluid:!0,required:!0,id:"participantName",as:m.a,name:"participantName",placeholder:"name"})})]}),e.surveyData.options.length>0&&e.surveyData.options.map((function(e,t){return Object(a.jsxs)(O.a.Row,{columns:2,children:[Object(a.jsx)(O.a.Column,{width:4,children:Object(a.jsx)("label",{htmlFor:"options.".concat(t,".option"),children:e.option},"label-".concat(t))},"column1-".concat(t)),Object(a.jsxs)(O.a.Column,{width:12,children:[Object(a.jsx)(p.b,{fluid:!0,required:!0,min:"0",max:"10",as:m.a,name:"options.".concat(t,".option"),placeholder:"0 ... 10",type:"number"},"input-".concat(t)),Object(a.jsx)(p.a,{name:"options.".concat(t,".option"),component:"div",className:"field-error"},"error-".concat(t))]},"column2-".concat(t))]},"row-".concat(t))})),Object(a.jsx)(O.a.Row,{children:Object(a.jsx)(O.a.Column,{children:Object(a.jsx)(y.a,{size:"large",className:"float-right",type:"submit",children:"Submit your choices"})})})]})})})})}})]})},g=n(164),C=n(160),D={width:200,height:200},N=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.winningOption.index;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(d.a,{as:"h2",children:"Results of the Survey"}),Object(a.jsx)("div",{className:"circular-winner",children:Object(a.jsx)(g.a,{circular:!0,id:"circular-winner",style:D,children:Object(a.jsxs)(d.a,{as:"h2",inverted:!0,children:["Winner:",Object(a.jsxs)(d.a.Subheader,{children:["Option ",t+1," -"]}),Object(a.jsx)(d.a.Subheader,{children:this.props.surveyData.options[t].option})]})})}),Object(a.jsxs)(d.a,{as:"h2",children:["Survey: ",this.props.surveyTitle]}),Object(a.jsxs)(C.a,{size:"large",celled:!0,children:[Object(a.jsxs)("colgroup",{children:[Object(a.jsx)("col",{id:""}),this.props.surveyData.options.map((function(t,n){return n===e.props.winningOption.index?Object(a.jsx)("col",{id:"winner",className:"winner"},"col-".concat(n)):Object(a.jsx)("col",{id:""},"col-".concat(n))}))]}),Object(a.jsx)(C.a.Header,{children:Object(a.jsxs)(C.a.Row,{children:[Object(a.jsx)(C.a.Cell,{children:"Name"}),this.props.surveyData.options.map((function(e,t){return Object(a.jsx)(C.a.Cell,{children:e.option},"name-".concat(t))}))]})}),Object(a.jsx)(C.a.Body,{children:this.props.participantData.map((function(e,t){return Object(a.jsxs)(C.a.Row,{children:[Object(a.jsx)(C.a.Cell,{children:e.name},"participant-name-cell-".concat(t)),e.options.map((function(e,t){return Object(a.jsx)(C.a.Cell,{children:e.option},"participant-data-cell-".concat(t))}))]},"participant-data-row-".concat(t))}))}),Object(a.jsx)(C.a.Footer,{children:Object(a.jsxs)(C.a.Row,{children:[Object(a.jsx)(C.a.Cell,{children:"Results"}),this.props.results.map((function(e,t){return Object(a.jsx)(C.a.Cell,{children:e.sum},"results-".concat(t))}))]})})]})]})}}]),n}(r.Component),T=n(111),P=n(112),F=n(159),k=n(30),R=n.n(k),I=n(67);function z(){return J.apply(this,arguments)}function J(){return(J=Object(I.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/participant-data");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return q.apply(this,arguments)}function q(){return(q=Object(I.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/survey-data");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return B.apply(this,arguments)}function B(){return(B=Object(I.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/survey-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveyData:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return V.apply(this,arguments)}function V(){return(V=Object(I.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/participant-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({participantData:t,surveyId:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.getParticipantData=z,exports.getSurveyDataFromServer=L,exports.createSurvey=A,exports.createParticipantData=M;var W={getParticipantData:z,getSurveyDataFromServer:L,createSurvey:A,createParticipantData:M},_=(n(139),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={showLanding:!0,showCreateSurvey:!1,showSurvey:!1,showResults:!1,surveyTitle:"",surveyId:0,surveyData:{},participantData:[]},a.showCreateSurvey=a.showCreateSurvey.bind(Object(l.a)(a)),a.createSurvey=a.createSurvey.bind(Object(l.a)(a)),a.createParticipantData=a.createParticipantData.bind(Object(l.a)(a)),a.createNewParticipant=a.createNewParticipant.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"showCreateSurvey",value:function(){this.setState({showCreateSurvey:!0,showLanding:!1})}},{key:"createSurvey",value:function(e){var t=this;W.createSurvey(e).then((function(e){t.setState({surveyData:{options:e.options},surveyTitle:e.survey_name,surveyId:e.survey_id,showCreateSurvey:!1,showSurvey:!0})}))}},{key:"createParticipantData",value:function(e){var t=this;W.createParticipantData(e,this.state.surveyId).then((function(e){t.setState({participantData:e.participantData,results:e.resultsFromSurvey,winningOption:e.winningOption,showSurvey:!1,showResults:!0})}))}},{key:"createNewParticipant",value:function(){this.setState({showSurvey:!0,showResults:!1})}},{key:"componentDidMount",value:function(){document.title="Survey Systemic Consensus"}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)(F.a,{pointing:!0,secondary:!0,children:[Object(a.jsx)(F.a.Item,{className:"icon-header",children:Object(a.jsx)(T.a,{icon:P.a})}),Object(a.jsx)(F.a.Item,{className:"nav-header",children:"Survey Systemic Consensus"})]}),Object(a.jsxs)(g.a,{padded:"very",className:"main-container",children:[this.state.showLanding&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("p",{children:"This is a survey with the Systemic Consensus method. This means, all participants vote his restistance against each option. With every option you can choose from 0 to 10. 0 means no resistance. And 10 means absolutly resistant to this option."}),Object(a.jsx)("p",{children:"This method help groups to find a better solution, because less resistance to the upcoming choice and more harmony inside the group."}),Object(a.jsx)(y.a,{size:"massive",className:"center-button",onClick:this.showCreateSurvey,children:"Start your Survey"})]}),this.state.showCreateSurvey&&Object(a.jsx)(f,{createSurvey:this.createSurvey}),this.state.showSurvey&&Object(a.jsx)(S,{surveyData:this.state.surveyData,surveyTitle:this.state.surveyTitle,createParticipantData:this.createParticipantData}),this.state.showResults&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(N,{participantData:this.state.participantData,results:this.state.results,winningOption:this.state.winningOption,surveyData:this.state.surveyData,surveyTitle:this.state.surveyTitle}),Object(a.jsx)(y.a,{size:"large",className:"center",onClick:this.createNewParticipant,children:"Add new Participant"})]})]})]})}}]),n}(r.Component)),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(140);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(_,{})}),document.getElementById("root")),E()}},[[141,1,2]]]);
//# sourceMappingURL=main.04fec593.chunk.js.map